<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">    
    <title>IFE ECMAScript</title>
</head>
<body>        
    <input id="first-number" type="number" value="0" placeholder="第一个数字">
    <input id="second-number" type="number" value="0" placeholder="第二个数字">
    <button id="add-btn">加</button>
    <button id="minus-btn">减</button>
    <button id="times-btn">乘</button>
    <button id="divide-btn">除</button>
    <p id="result">运算结果</p><br/>

    <input id="dec-number1" type="number" placeholder="输入一个十进制非负整数">
    <button id="trans-btn1">转化为二进制</button>
    <p id="result2">运算结果</p><br/>

    <input id="dec-number2" type="number" placeholder="输入一个十进制非负整数">
    <input id="bin-bit" type="number" placeholder="输入转化后二进制数字位数">
    <button id="trans-btn2">转化为二进制</button>
    <p id="result5">运算结果</p>

    <script>
        'use strict';
        document.getElementById('add-btn').onclick=function(){
            var firstValue=Number(document.getElementById('first-number').value);
            var secondValue=Number(document.getElementById('second-number').value);
            var sumValue = firstValue + secondValue;
            result.innerHTML=('运算结果:'+sumValue); 
        }
        document.getElementById('minus-btn').onclick=function(){
            var firstValue=Number(document.getElementById('first-number').value);
            var secondValue=Number(document.getElementById('second-number').value);
            var sumValue = firstValue - secondValue;
            result.innerHTML=('运算结果:'+sumValue); 
        }
        document.getElementById('times-btn').onclick=function(){
            var firstValue=Number(document.getElementById('first-number').value);
            var secondValue=Number(document.getElementById('second-number').value);
            var sumValue = firstValue * secondValue;
            result.innerHTML=('运算结果:'+sumValue); 
        }
        document.getElementById('divide-btn').onclick=function(){
            var firstValue=Number(document.getElementById('first-number').value);
            var secondValue=Number(document.getElementById('second-number').value);
            if(secondValue==0)
                {
                    result.innerHTML='您输入的数据不符合规范';
                    console.log('您输入的数据不符合规范');
                }
            else{
            var sumValue = firstValue / secondValue;
            result.innerHTML=('运算结果:'+sumValue); }
        }
        document.getElementById('trans-btn1').onclick=function dec2bin(decNumber){
            var getnum=parseFloat(document.getElementById('dec-number1').value);
            if(getnum>=0){
            var num2=[];
            var i=0;
            while(getnum){
                num2[i]=getnum%2;
                getnum=parseInt(getnum/2);
                i++;
            }
                var result3=num2.reverse();
                var result4=result3.join('');
                result2.innerHTML=('转换结果为'+result4);
            }
            else
            result2.innerHTML=('请输入一个非负整数');
        }

        document.getElementById('trans-btn2').onclick=function dec2bin(decNumber){
            var getnum2=parseFloat(document.getElementById('dec-number2').value);
            var num2=[];
            var i=0;
            while(getnum2){
                num2[i]=getnum2%2;
                getnum2=parseInt(getnum2/2);
                i++;
            }
                var result6=num2.reverse();
                var arr=result6.join('');
        var binBit=parseInt(document.getElementById("bin-bit").value);
                if(arr.length > binBit){
                    //result5.innerHTML = "二进制数字位数输入不符合规范，小于真实的二进制数字位数，请重新输入！";
                    result5.innerHTML =('发生溢出:'+arr);
                }
                else if(arr.length < binBit){
                    binBit = binBit - arr.length;
                    for(var i = 0;i < binBit;i++){
                        arr="0" + arr;
                    } 
                 result5.innerHTML=("二进制位数为: " + arr.length + "; " + "二进制为: " + arr);
                }
        }
        
    </script>
</body>
</html>